!function(c){function e(e){for(var t,n,r=e[0],o=e[1],a=e[2],l=0,i=[];l<r.length;l++)n=r[l],Object.prototype.hasOwnProperty.call(f,n)&&f[n]&&i.push(f[n][0]),f[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(c[t]=o[t]);for(p&&p(e);i.length;)i.shift()();return s.push.apply(s,a||[]),u()}function u(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==f[a]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var n={},f={3:0,2:0},s=[];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=c,l.c=n,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(n,r,function(e){return t[e]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/dist/static/webpack/";var t=(r=window.webpackJsonp=window.webpackJsonp||[]).push.bind(r);r.push=e;for(var r=r.slice(),o=0;o<r.length;o++)e(r[o]);var p=t;s.push([736,0]),u()}({247:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(n(0)),l=r(n(112)),o=r(n(282)),i=r(n(8)),c=r(n(65)),u=n(30),f=r(n(376)),s=r(n(375));function r(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(){return window}n=function(){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=m(this,v(t).call(this,e))).scrollToTop=function(e){var t=o.props,n=t.target,t=t.onClick;(0,s.default)(0,{getContainer:void 0===n?g:n}),"function"==typeof t&&t(e)},o.handleScroll=function(){var e=o.props,t=e.visibilityHeight,e=e.target,e=void 0===e?g:e,e=(0,f.default)(e(),!0);o.setState({visible:t<e})},o.renderBackTop=function(e){var t=e.getPrefixCls,n=o.props,r=n.prefixCls,e=n.className,e=void 0===e?"":e,n=n.children,t=t("back-top",r),r=(0,i.default)(t,e),e=a.createElement("div",{className:"".concat(t,"-content")},a.createElement("div",{className:"".concat(t,"-icon")})),t=(0,c.default)(o.props,["prefixCls","className","children","visibilityHeight","target","visible"]),e=("visible"in o.props?o.props:o.state).visible?a.createElement("div",y({},t,{className:r,onClick:o.scrollToTop}),n||e):null;return a.createElement(l.default,{component:"",transitionName:"fade"},e)},o.state={visible:!1},o}var e,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a.Component),e=t,(n=[{key:"componentDidMount",value:function(){var e=this.props.target||g;this.scrollEvent=(0,o.default)(e(),"scroll",this.handleScroll),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.scrollEvent&&this.scrollEvent.remove()}},{key:"render",value:function(){return a.createElement(u.ConfigConsumer,null,this.renderBackTop)}}])&&b(e.prototype,n),r&&b(e,r),t}();(t.default=n).defaultProps={visibilityHeight:400}},411:function(e,t,n){"use strict";n(42),n(412)},412:function(e,t,n){},60:function(e,t){e.exports=dll_library},736:function(e,t,n){n(87),n(88),n(90),e.exports=n(744)},737:function(e,t,n){},744:function(e,t,n){"use strict";n.r(t);n(110);function y(t){function n(e){t.onDescChange(e.target.value)}return m.a.createElement("div",{className:"TemplateInfo"},m.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},m.a.createElement("h1",null,t.title)),m.a.createElement(s.a,{className:"TemplateInfo__CategoryTree",value:t.categoryID,onChange:t.onCategoryIDChange,disable:!0}),m.a.createElement(v.a,{id:"template:input_template_desc",defaultMessage:"摘要信息（必填）"},function(e){return m.a.createElement(p,{value:t.desc,onChange:n,className:"TemplateInfo__TextArea",rows:4,placeholder:e,readOnly:!0})}))}var r=n(27),a=n.n(r),o=(n(411),n(247)),l=n.n(o),b=n(0),m=n.n(b),t=n(13),r=n.n(t),v=n(2),i=n(59),c=n(149),u=n(64),f=n(83),o=n(69),h=(n(737),n(201)),t=(n(41),n(9)),t=n.n(t),s=n(173),p=(n(479),t.a.TextArea),g=n(96),O=n(204),w=n(172),E=n(48),j=n(84);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=window.location.href.split("/"),_=Object(o.a)({CreateTemplate:{display:"flex",flexDirection:"row",height:"100vh",flex:"auto"},OutlineWrapper:{width:"288px",flex:"auto",flexGrow:0,display:"flex",flexDirection:"column"},OutlineHeader:{background:"#EDEDED",color:"#0A2D47",fontSize:"20px",lineHeight:"28px",padding:"10px 20px",flex:0},OutlineContent:{background:"#FFF",flex:"auto",flexGrow:1,overflowY:"scroll"},MainContent:{flex:"auto",display:"flex",padding:"20px 28px",flexDirection:"column"},ScrollWrapper:{flexGrow:0,overflowY:"scroll",flexDirection:"column"},SubmitWrapper:{textAlign:"right",padding:"8px 0"}})(function(e){var o,t=e.classes,n=x(Object(b.useState)(""),2),r=n[0],a=n[1],l=x(Object(b.useState)(""),2),i=l[0],c=l[1],u=x(Object(b.useState)(void 0),2),f=u[0],s=u[1],e=x(Object(b.useState)(""),2),n=e[0],l=e[1],u=x(Object(b.useState)(null),2),p=(u[0],u[1]),e=x(Object(b.useState)([]),2),u=e[0],d=e[1];return Object(b.useEffect)(function(){var e=Number(window.location.href.split("/").pop());"check_template"===String(S[S.length-2])?Object(E.d)(e).then(function(e){a(e.title),s(e.category),c(e.abstract),p(e.id),d(e.content)}):Object(j.d)(e).then(function(e){console.log(e.content),a(e.snippet_name),s(null),c(""),p(e.id),d(e.content)})},[]),m.a.createElement("div",{className:t.CreateTemplate},m.a.createElement("div",{className:t.OutlineWrapper},m.a.createElement("div",{className:t.OutlineHeader},m.a.createElement(v.a,{id:"template:outline",defaultMessage:"模板大纲"})),m.a.createElement("div",{className:t.OutlineContent},m.a.createElement(h.a,{template:u,selected:n,onClick:l,draggable:!1}))),m.a.createElement(g.a.Provider,{value:{templateCtrl:new w.a(u,null)}},m.a.createElement("div",{className:t.MainContent},m.a.createElement("div",{className:t.ScrollWrapper},m.a.createElement(y,{title:r,onTitleChange:a,desc:i,onDescChange:c,categoryID:f,onCategoryIDChange:function(e){s(e)}}),(o=u,m.a.createElement("div",null,o.map(function(e,t,n){var r=Object(O.a)(e.type);return console.log(e),m.a.createElement("div",{id:""+e.title},m.a.createElement(r,{key:t,parent:[],index:t,path:[t],field:o[t],informUpdate:null,isFirst:0===t,isLast:t===n.length-1}))})))))))});function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=D(n);return e=r?(e=D(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==C(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=m.a.createElement(v.a,{id:"template:create_forbid",defaultMessage:"你没有创建模板的权限"}),N=(v.a,{height:40,width:40,lineHeight:"40px",borderRadius:10,backgroundColor:"#1088e9",textAlign:"center"}),o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(o,b["Component"]);var e,t,n,r=k(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"render",value:function(){return m.a.createElement(u.a,{loginRequired:!0,noFooter:!0,titleID:"check_template",defaultTitle:"查看模板",selectedMenu:f.a.Template},m.a.createElement(l.a,{visibilityHeight:100},m.a.createElement("div",{style:N},m.a.createElement(a.a,{type:"up",style:{fontSize:16,color:"#fff"}}))),m.a.createElement(c.a,{forbidMessage:M,requiredRoles:[i.b.RESEARCHER]},m.a.createElement(_,null)))}}])&&P(e.prototype,t),n&&P(e,n),o}();r.a.render(m.a.createElement(o,null),document.getElementById("wrap"))}});