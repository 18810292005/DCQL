!function(l){function e(e){for(var t,n,a=e[0],r=e[1],o=e[2],s=0,i=[];s<a.length;s++)n=a[s],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&i.push(u[n][0]),u[n]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(l[t]=r[t]);for(f&&f(e);i.length;)i.shift()();return h.push.apply(h,o||[]),c()}function c(){for(var e,t=0;t<h.length;t++){for(var n=h[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==u[o]&&(a=!1)}a&&(h.splice(t--,1),e=s(s.s=n[0]))}return e}var n={},u={20:0},h=[];function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=l,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dist/static/webpack/";var t=(a=window.webpackJsonp=window.webpackJsonp||[]).push.bind(a);a.push=e;for(var a=a.slice(),r=0;r<a.length;r++)e(a[r]);var f=t;h.push([1463,0]),c()}({1463:function(e,t,n){n(87),n(88),n(90),e.exports=n(1464)},1464:function(e,t,n){"use strict";n.r(t);n(29);var a=n(6),o=n.n(a),t=n(197),r=n(92),s=n.n(r),i=n(0),l=n.n(i),a=n(13),t=n.n(a),c=n(3),r=n(262);n(732);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m(n);return e=a?(e=m(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==u(e)&&"function"!=typeof e?p(t):e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(r.a)();r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,i["Component"]);var e,t,n,a=d(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=a.call(this,e)).state={username:"",password:"",passwordConfirm:"",email:"",realName:"",org:"",agreeTermsOfUse:!1,showError:!1,errorText:"",requesting:!1},e.handleUsernameChange=e.handleUsernameChange.bind(p(e)),e.handlePasswordChange=e.handlePasswordChange.bind(p(e)),e.handleConfirmChange=e.handleConfirmChange.bind(p(e)),e.handleEmailChange=e.handleEmailChange.bind(p(e)),e.handleRealNameChange=e.handleRealNameChange.bind(p(e)),e.handleOrgChange=e.handleOrgChange.bind(p(e)),e.handleCheckboxChange=e.handleCheckboxChange.bind(p(e)),e.handleButtonClick=e.handleButtonClick.bind(p(e)),e}return e=r,(t=[{key:"render",value:function(){return l.a.createElement("div",{className:"flex-center full-vh"},l.a.createElement("div",{className:"flex-center card-wrapper"},l.a.createElement("div",{className:"card"},l.a.createElement("a",{href:c.b.site_index},l.a.createElement("img",{className:"logo",src:c.b.api_v1_service.logo_login,style:{width:"200px",height:"auto"}})),l.a.createElement("ul",null,l.a.createElement("li",{className:"active"},"注册")),l.a.createElement("div",{className:"login-form",style:{minWidth:"320px"}},l.a.createElement("p",{className:this.state.showError?"error-info show":"error-info"},this.state.errorText),l.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleUsernameChange,placeholder:"用户名"}),l.a.createElement("input",{type:"password",value:this.state.password,onChange:this.handlePasswordChange,placeholder:"密码"}),l.a.createElement("input",{type:"password",value:this.state.passwordConfirm,onChange:this.handleConfirmChange,placeholder:"重复密码"}),l.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleEmailChange,placeholder:"邮箱地址"}),l.a.createElement("input",{type:"text",value:this.state.realName,onChange:this.handleRealNameChange,placeholder:"真实姓名"}),l.a.createElement("input",{type:"text",value:this.state.org,onChange:this.handleOrgChange,placeholder:"单位"})),l.a.createElement("div",null,l.a.createElement("div",{className:"remember-wrapper"},l.a.createElement(s.a,{onChange:this.handleCheckboxChange,checked:this.state.agreeTermsOfUse},"我已经阅读并同意用户守则"))),l.a.createElement(o.a,{disabled:!this.state.agreeTermsOfUse,type:"primary",size:"large",loading:this.state.requesting,onClick:this.handleButtonClick},"注册"))))}},{key:"handleCheckboxChange",value:function(e){this.setState({agreeTermsOfUse:e.target.checked})}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleConfirmChange",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleRealNameChange",value:function(e){this.setState({realName:e.target.value})}},{key:"handleOrgChange",value:function(e){this.setState({org:e.target.value})}},{key:"checkForm",value:function(){return 0===this.state.username.length?{result:!0,text:"Username cannot be empty"}:0===this.state.password.length?{result:!0,text:"Password cannot be empty"}:this.state.passwordConfirm!==this.state.password?{result:!0,text:"Confirm password not match"}:0===this.state.email.length?{result:!0,text:"Email address cannnot be empty"}:0===this.state.realName.length?{result:!0,text:"Real name is required"}:0===this.state.org.length?{result:!0,text:"Institution is required"}:{result:!1}}},{key:"handleButtonClick",value:function(){var t=this,e=this.checkForm();e.result?this.setState({showError:!0,errorText:e.text}):(this.setState({requesting:!0}),fetch(c.b.api_v1_account.user_list,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({username:this.state.username,password:this.state.password,email:this.state.email,real_name:this.state.realName,institution:this.state.org})}).then(function(e){e.ok?window.location.href="/account/login_mge/":e.json().then(function(e){t.setState({requesting:!1,showError:!0,errorText:e.msg})})}).catch(function(e){console.log({reason:e}),t.setState({requesting:!1,showError:!0,errorText:"Please try again later or contact admin."})}))}}])&&h(e.prototype,t),n&&h(e,n),r}();t.a.render(l.a.createElement(r,null),document.getElementById("wrap"))},532:function(e,t){e.exports=window.jQuery},60:function(e,t){e.exports=dll_library},732:function(e,t,n){}});